{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43798487-cffd9f7a4f04e7c4b426bb2b8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhoto = (queryString = 'flower') => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 6,\n    q: queryString,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","export const galleryMarkup = images => {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n      <ul class=\"image-info\">\n        <li class=\"info-item\">Likes: ${likes}</li>\n        <li class=\"info-item\">Views: ${views}</li>\n        <li class=\"info-item\">Comments: ${comments}</li>\n        <li class=\"info-item\">Downloads: ${downloads}</li>\n      </ul>\n    </li>`\n    )\n    .join('');\n};\n","import { fetchPhoto } from './js/pixabay-api.js';\nimport { galleryMarkup } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchFormEl = document.querySelector('.myForm');\nconst loaderEl = document.querySelector('.loader');\n\nconst lightboxGallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const searchRequest = event.target.elements.textInput.value.trim();\n  if (searchRequest === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    iziToast.error({\n      position: 'topRight',\n      class: 'error',\n      message: 'Please put your request',\n      timeout: 2000,\n    });\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhoto(searchRequest)\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        event.target.reset();\n        iziToast.error({\n          position: 'topRight',\n          class: 'error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 2000,\n        });\n      }\n      galleryEl.innerHTML = galleryMarkup(imagesData.hits);\n      lightboxGallery.refresh();\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    })\n    .catch(error => console.log(error));\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","fetchPhoto","queryString","searchParams","response","galleryMarkup","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","galleryEl","searchFormEl","loaderEl","lightboxGallery","SimpleLightbox","onSearchFormSubmit","event","searchRequest","iziToast","imagesData","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAa,CAACC,EAAc,WAAa,CACpD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACV,EAAGG,CACP,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAgBC,GACpBA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,sCAC8BN,CAAa;AAAA;AAAA;AAAA,iBAGlCC,CAAY;AAAA,iBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,uCAIkBC,CAAK;AAAA,uCACLC,CAAK;AAAA,0CACFC,CAAQ;AAAA,2CACPC,CAAS;AAAA;AAAA,UAG/C,EACA,KAAK,EAAE,ECrBNC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAe,SAAS,cAAc,SAAS,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAkB,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAgBD,EAAM,OAAO,SAAS,UAAU,MAAM,OAC5D,GAAIC,IAAkB,GAAI,CACxBP,EAAU,UAAY,GACtBM,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,0BACT,QAAS,GACf,CAAK,EACD,MACD,CAEDR,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAWoB,CAAa,EACrB,KAAKE,GAAc,CACdA,EAAW,QAAU,IACvBH,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,2EACF,QAAS,GACnB,CAAS,GAEHR,EAAU,UAAYT,EAAckB,EAAW,IAAI,EACnDN,EAAgB,QAAO,EACvBG,EAAM,OAAO,QACbJ,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,EACA,MAAMQ,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEAT,EAAa,iBAAiB,SAAUI,CAAkB"}